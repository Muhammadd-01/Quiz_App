<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Quiz App</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideIn {
            from { transform: translateX(50px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes scaleUp {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }

        .slide-in {
            animation: slideIn 0.5s ease-out;
        }

        .scale-up {
            animation: scaleUp 0.5s ease-out;
        }

        .answer-button {
            transition: all 0.3s ease;
        }

        .answer-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .answer-button.selected {
            background-color: #3b82f6;
            color: white;
        }

        .answer-button.correct {
            background-color: #10b981;
            color: white;
        }

        .answer-button.incorrect {
            background-color: #ef4444;
            color: white;
        }

        #quiz-container {
            transition: all 0.3s ease;
        }

        #quiz-container:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
        }

        #score-container {
            transition: all 0.3s ease;
        }

        #score-container:hover {
            transform: scale(1.05);
        }

        #timer {
            transition: all 0.3s ease;
        }

        #timer.warning {
            color: #f59e0b;
        }

        #timer.danger {
            color: #ef4444;
        }

        .progress-bar {
            transition: width 0.5s ease-in-out;
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center">
    <div id="quiz-container" class="bg-white p-8 rounded-lg shadow-lg max-w-md w-full">
        <h1 class="text-3xl font-bold mb-6 text-center">Interactive Quiz</h1>
        
        <div id="question-container" class="mb-6">
            <h2 id="question-text" class="text-xl mb-4"></h2>
            <div id="answer-buttons" class="grid grid-cols-1 gap-2"></div>
        </div>
        
        <div id="controls" class="flex justify-between items-center">
            <button id="prev-button" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition-colors">Previous</button>
            <div id="progress" class="text-gray-600"></div>
            <button id="next-button" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition-colors">Next</button>
        </div>
        
        <div id="score-container" class="mt-4 text-center">
            <p>Score: <span id="score">0</span></p>
        </div>

        <div id="timer-container" class="mt-4 text-center">
            <p>Time left: <span id="timer">60</span> seconds</p>
        </div>

        <div class="mt-4 w-full bg-gray-200 rounded-full h-2.5">
            <div class="progress-bar bg-blue-600 h-2.5 rounded-full" style="width: 0%"></div>
        </div>
        
        <div id="result-container" class="hidden mt-6 text-center">
            <h2 class="text-2xl font-bold mb-4">Quiz Completed!</h2>
            <p id="final-score" class="text-xl mb-4"></p>
            <button id="retry-button" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 transition-colors mr-2">Retry Quiz</button>
            <button id="show-answers-button" class="bg-yellow-500 text-white px-4 py-2 rounded hover:bg-yellow-600 transition-colors">Show Answers</button>
        </div>
    </div>

    <script>
        // Quiz questions
        const questions = [
            {
                question: "What is the capital of France?",
                answers: [
                    { text: "Berlin", correct: false },
                    { text: "Madrid", correct: false },
                    { text: "Paris", correct: true },
                    { text: "Rome", correct: false }
                ]
            },
            {
                question: "Which planet is known as the Red Planet?",
                answers: [
                    { text: "Mars", correct: true },
                    { text: "Jupiter", correct: false },
                    { text: "Venus", correct: false },
                    { text: "Saturn", correct: false }
                ]
            },
            {
                question: "What is the largest mammal in the world?",
                answers: [
                    { text: "African Elephant", correct: false },
                    { text: "Blue Whale", correct: true },
                    { text: "Giraffe", correct: false },
                    { text: "Hippopotamus", correct: false }
                ]
            },
            {
                question: "Which element has the chemical symbol 'O'?",
                answers: [
                    { text: "Gold", correct: false },
                    { text: "Silver", correct: false },
                    { text: "Oxygen", correct: true },
                    { text: "Osmium", correct: false }
                ]
            },
            {
                question: "Who painted the Mona Lisa?",
                answers: [
                    { text: "Vincent van Gogh", correct: false },
                    { text: "Pablo Picasso", correct: false },
                    { text: "Leonardo da Vinci", correct: true },
                    { text: "Michelangelo", correct: false }
                ]
            }
        ];

        // DOM elements
        const questionContainer = document.getElementById('question-container');
        const questionText = document.getElementById('question-text');
        const answerButtons = document.getElementById('answer-buttons');
        const nextButton = document.getElementById('next-button');
        const prevButton = document.getElementById('prev-button');
        const scoreDisplay = document.getElementById('score');
        const progressDisplay = document.getElementById('progress');
        const resultContainer = document.getElementById('result-container');
        const finalScoreDisplay = document.getElementById('final-score');
        const retryButton = document.getElementById('retry-button');
        const showAnswersButton = document.getElementById('show-answers-button');
        const timerDisplay = document.getElementById('timer');
        const progressBar = document.querySelector('.progress-bar');

        let currentQuestionIndex = 0;
        let score = 0;
        let answeredQuestions = new Array(questions.length).fill(false);
        let timeLeft = 60;
        let timerInterval;

        // Initialize quiz
        function startQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            answeredQuestions = new Array(questions.length).fill(false);
            nextButton.innerHTML = "Next";
            resultContainer.style.display = "none";
            questionContainer.style.display = "block";
            startTimer();
            showQuestion();
        }

        // Display current question
        function showQuestion() {
            resetState();
            let currentQuestion = questions[currentQuestionIndex];
            let questionNo = currentQuestionIndex + 1;
            questionText.innerHTML = questionNo + ". " + currentQuestion.question;

            currentQuestion.answers.forEach(answer => {
                const button = document.createElement("button");
                button.innerHTML = answer.text;
                button.classList.add("answer-button", "bg-gray-200", "text-gray-800", "py-2", "px-4", "rounded", "hover:bg-gray-300", "transition-colors", "slide-in");
                answerButtons.appendChild(button);
                if (answer.correct) {
                    button.dataset.correct = answer.correct;
                }
                button.addEventListener("click", selectAnswer);
            });

            updateNavigationButtons();
            updateProgress();
        }

        // Reset question state
        function resetState() {
            nextButton.style.display = "block";
            while (answerButtons.firstChild) {
                answerButtons.removeChild(answerButtons.firstChild);
            }
        }

        // Handle answer selection
        function selectAnswer(e) {
            const selectedButton = e.target;
            const correct = selectedButton.dataset.correct === "true";
            if (correct) {
                selectedButton.classList.add("correct");
                score++;
            } else {
                selectedButton.classList.add("incorrect");
            }
            Array.from(answerButtons.children).forEach(button => {
                if (button.dataset.correct === "true") {
                    button.classList.add("correct");
                }
                button.disabled = true;
            });
            answeredQuestions[currentQuestionIndex] = true;
            updateScore();
            updateNavigationButtons();
        }

        // Update score display
        function updateScore() {
            scoreDisplay.innerHTML = score;
            scoreDisplay.classList.add("scale-up");
            setTimeout(() => {
                scoreDisplay.classList.remove("scale-up");
            }, 300);
        }

        // Update navigation buttons
        function updateNavigationButtons() {
            if (currentQuestionIndex === 0) {
                prevButton.style.display = "none";
            } else {
                prevButton.style.display = "block";
            }

            if (currentQuestionIndex === questions.length - 1) {
                nextButton.innerHTML = "Finish";
            } else {
                nextButton.innerHTML = "Next";
            }

            if (answeredQuestions[currentQuestionIndex]) {
                nextButton.disabled = false;
            } else {
                nextButton.disabled = true;
            }
        }

        // Update progress display
        function updateProgress() {
            progressDisplay.innerHTML = `Question ${currentQuestionIndex + 1} of ${questions.length}`;
            const progress = ((currentQuestionIndex + 1) / questions.length) * 100;
            progressBar.style.width = `${progress}%`;
        }

        // Handle next button click
        nextButton.addEventListener("click", () => {
            currentQuestionIndex++;
            if (currentQuestionIndex < questions.length) {
                showQuestion();
            } else {
                showResult();
            }
        });

        // Handle previous button click
        prevButton.addEventListener("click", () => {
            currentQuestionIndex--;
            showQuestion();
        });

        // Show quiz result
        function showResult() {
            resetState();
            clearInterval(timerInterval);
            questionText.innerHTML = "Quiz Completed!";
            finalScoreDisplay.innerHTML = `Your score: ${score} out of ${questions.length}`;
            resultContainer.style.display = "block";
            resultContainer.classList.add("fade-in");
            nextButton.style.display = "none";
            prevButton.style.display = "none";
            questionContainer.style.display = "none";
            timerDisplay.parentElement.style.display = "none";
        }

        // Handle retry button click
        retryButton.addEventListener("click", () => {
            startQuiz();
        });

        // Handle show answers button click
        showAnswersButton.addEventListener("click", () => {
            showAnswers();
        });

        // Show correct answers
        function showAnswers() {
            resetState();
            questionText.innerHTML = "Correct Answers";
            questions.forEach((question, index) => {
                const answerParagraph = document.createElement("p");
                answerParagraph.classList.add("mb-2", "fade-in");
                const correctAnswer = question.answers.find(answer => answer.correct);
                answerParagraph.innerHTML = `<strong>Q${index + 1}:</strong> ${correctAnswer.text}`;
                answerButtons.appendChild(answerParagraph);
            });
            nextButton.style.display = "none";
            prevButton.style.display = "none";
        }

        // Start timer
        function startTimer() {
            timeLeft = 60;
            timerDisplay.parentElement.style.display = "block";
            updateTimerDisplay();
            timerInterval = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    showResult();
                }
            }, 1000);
        }

        // Update timer display
        function updateTimerDisplay() {
            timerDisplay.textContent = timeLeft;
            if (timeLeft <= 10) {
                timerDisplay.classList.add("danger");
            } else if (timeLeft <= 30) {
                timerDisplay.classList.add("warning");
            } else {
                timerDisplay.classList.remove("warning", "danger");
            }
        }

        // Start the quiz
        startQuiz();
    </script>
</body>
</html>

